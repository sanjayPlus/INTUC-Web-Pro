(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{17737:function(e,t,s){Promise.resolve().then(s.bind(s,85382))},85382:function(e,t,s){"use strict";s.r(t);var r=s(3827),l=s(1017),n=s(4205),i=s(7908),a=s(47907);s(57246);var o=s(64090),c=s(18009),u=s(52840),d=s(70784),h=s(46340),m=s(15486);t.default=function(){let e=(0,a.useRouter)(),[t,s]=(0,o.useState)(""),[x,p]=(0,o.useState)(""),[f,g]=(0,o.useState)(!1),[w,j,b,v]=(0,m.Kp)(h.I8);(0,o.useEffect)(()=>{localStorage.getItem("token")&&i.Z.get(n.Z+"/user/protected",{headers:{"x-access-token":localStorage.getItem("token")}}).then(t=>{200===t.status&&e.push("/home")})},[]);let k=async()=>{try{let t=await w(),s=null==t?void 0:t.user,r=await (null==s?void 0:s.getIdToken()),l=await i.Z.post(n.Z+"/user/google-login",{user:s,token:r});200===l.status?(localStorage.setItem("token",l.data.token),e.push("/home")):(c.ZP.error("User Desn't Exist Please Sign Up"),e.push("/register"))}catch(t){console.log(t),c.ZP.error("User Desn't Exist Please Sign Up"),e.push("/register")}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{children:(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",style:{backgroundImage:"url('./images/bg-1.png')",backgroundSize:"cover"},children:[(0,r.jsx)("div",{className:"w-full h-16 flex justify-center items-center mt-10 mb-10",children:(0,r.jsx)("img",{src:"./images/logo.png",alt:"",className:"w-24"})}),(0,r.jsxs)("div",{className:"flex-1 justify-center items-center bg-slate-900 rounded-t-3xl",children:[(0,r.jsxs)("div",{className:"input-container pt-10 pb-5 flex flex-col w-full justify-center items-center",children:[(0,r.jsxs)("div",{style:{width:"80%",height:"50px"},className:"mx-4 rounded-lg flex justify-start items-center border-2 border-white p-5",children:[(0,r.jsx)(d.hoL,{size:24,color:"white",className:"mr-2"}),(0,r.jsx)("input",{type:"text",onChange:e=>s(e.target.value),placeholder:"Email",className:"bg-transparent border-none outline-none text-white"})]}),(0,r.jsxs)("div",{style:{width:"80%",height:"50px"},className:"mt-4 mb-2 rounded-lg flex justify-start items-center border-2 border-white p-5",children:[(0,r.jsx)(u.Q6l,{size:24,color:"white",className:"mr-2"}),(0,r.jsx)("input",{type:f?"text":"password",placeholder:"Password",onChange:e=>p(e.target.value),className:"bg-transparent border-none outline-none text-white"}),f?(0,r.jsx)(u.hKY,{size:18,color:"white",onClick:()=>g(!1)}):(0,r.jsx)(u.rWO,{size:18,color:"white",onClick:()=>g(!0)})]})]}),(0,r.jsx)("p",{className:"text-sky-500 text-sm pl-10 cursor-pointer",onClick:()=>e.push("/forgot-password"),children:"Forgot Password?"}),(0,r.jsx)("div",{className:"w-full flex justify-center items-center my-5",children:(0,r.jsx)("button",{onClick:()=>{if(!t||!x){c.ZP.error("Please fill all the fields");return}i.Z.post(n.Z+"/user/login",{email:t,password:x}).then(t=>{200===t.status&&(localStorage.setItem("token",t.data.token),e.push("/home"))}).catch(e=>{c.ZP.error("email or password is incorrect")})},className:"bg-amber-500 text-white w-80 text-xl py-2 rounded-xl font-semibold mx-8",children:"Log In"})}),(0,r.jsxs)("p",{onClick:()=>e.push("/register"),className:"text-white text-sm pl-8 mb-2",children:["Don't have an account? ",(0,r.jsx)("span",{className:"text-sky-500 font-bold cursor-pointer",children:"Sign Up"})]}),(0,r.jsx)("div",{className:"w-full flex justify-center items-center my-5",children:(0,r.jsxs)("button",{className:"google-button",onClick:k,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 262",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}),(0,r.jsx)("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"}),(0,r.jsx)("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"})]}),"Continue with Google"]})})]})]})})})}},46340:function(e,t,s){"use strict";s.d(t,{Fw:function(){return o},I8:function(){return a}});var r=s(26142),l=s(92730),n=s(76079);let i=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyC0hjAuBhcq49-0v2KNCMlDbRrogbZZTPg",authDomain:"intuc-thrissur.firebaseapp.com",databaseURL:"https://intuc-thrissur-default-rtdb.firebaseio.com",projectId:"intuc-thrissur",storageBucket:"intuc-thrissur.appspot.com",messagingSenderId:"734280836871",appId:"1:734280836871:web:91c29eecf6aef9b1abc7a2",measurementId:"G-LD6LYSNGLC"}),a=(0,l.v0)(i),o=(0,n.KL)(i)},1017:function(e,t,s){"use strict";var r=s(3827);s(64090);var l=s(18009);t.Z=function(e){let{children:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-screen h-screen flex justify-center items-center overflow-x-hidden",children:(0,r.jsx)("div",{className:"md:w-[30%] w-full h-screen shadow-lg",children:t})}),(0,r.jsx)(l.x7,{})]})}},4205:function(e,t){"use strict";t.Z="https://backend.intucthrissur.com/api"},57246:function(){}},function(e){e.O(0,[6051,5706,380,1296,7908,1656,1337,2971,9362,560],function(){return e(e.s=17737)}),_N_E=e.O()}]);